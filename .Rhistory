boxplot(rowSums(b)/ncol(b))
abline(a = 0.95, b = 0)
sim = 500
TrueFalse1 <- matrix(0, nrow = nrow(P1us), ncol = sim)
TrueFalse2 <- matrix(0, nrow = nrow(P2us), ncol = sim)
rownames(TrueFalse1) <- P1us$ID
rownames(TrueFalse2) <- P2us$ID
for (i in 1:length(a$ParaMatrixRaw)) {
if(is.null(a$ParaMatrixRaw[[i]]$pred1)) {
TrueFalse1[, i] <- NA
TrueFalse2[, i] <- NA
} else {
for (j in 1:nrow(P1us)) {
LL <- a$ParaMatrixRaw[[i]]$pred1[[j]][3, 2]
UL <- a$ParaMatrixRaw[[i]]$pred1[[j]][3, 3]
if (LL <= P1us[j, 4] & UL >= P1us[j, 4]) {
TrueFalse1[j, i] <- 1
} else {
TrueFalse1[j, i] <- 0
}
}
for (j in 1:nrow(P2us)) {
LL <- a$ParaMatrixRaw[[i]]$pred2[[j]][3, 2]
UL <- a$ParaMatrixRaw[[i]]$pred2[[j]][3, 3]
if (LL <= P2us[j, 4] & UL >= P2us[j, 4]) {
TrueFalse2[j, i] <- 1
} else {
TrueFalse2[j, i] <- 0
}
}
}
}
b <- TrueFalse1[, !is.na(colSums(TrueFalse1))]
rowSums(b)/ncol(b)
boxplot(rowSums(b)/ncol(b))
abline(a = 0.95, b = 0)
b <- TrueFalse1[, !is.na(colSums(TrueFalse1))]
rowSums(b)/ncol(b)
boxplot(rowSums(b)/ncol(b))
abline(a = 0.95, b = 0)
a$ParaMatrixRaw[[1]]$pred1[[1]]
P1us
k = 1
TrueFalse1 <- matrix(0, nrow = nrow(P1us), ncol = sim)
TrueFalse2 <- matrix(0, nrow = nrow(P2us), ncol = sim)
Mean1 <- matrix(0, nrow = nrow(P1us), ncol = sim)
Mean2 <- matrix(0, nrow = nrow(P1us), ncol = sim)
rownames(TrueFalse1) <- P1us$ID
rownames(TrueFalse2) <- P2us$ID
for (i in 1:length(a$ParaMatrixRaw)) {
if(is.null(a$ParaMatrixRaw[[i]]$pred1)) {
TrueFalse1[, i] <- NA
TrueFalse2[, i] <- NA
Mean1[, i] <- NA
Mean2[, i] <- NA
} else {
for (j in 1:nrow(P1us)) {
Mean1[j, i] <- a$ParaMatrixRaw[[i]]$pred1[[j]][k, 1]
LL <- a$ParaMatrixRaw[[i]]$pred1[[j]][k, 2]
UL <- a$ParaMatrixRaw[[i]]$pred1[[j]][k, 3]
if (LL <= P1us[j, k+1] & UL >= P1us[j, k+1]) {
TrueFalse1[j, i] <- 1
} else {
TrueFalse1[j, i] <- 0
}
}
for (j in 1:nrow(P2us)) {
Mean2[j, i] <- a$ParaMatrixRaw[[i]]$pred2[[j]][k, 1]
LL <- a$ParaMatrixRaw[[i]]$pred2[[j]][k, 2]
UL <- a$ParaMatrixRaw[[i]]$pred2[[j]][k, 3]
if (LL <= P2us[j, k+1] & UL >= P2us[j, k+1]) {
TrueFalse2[j, i] <- 1
} else {
TrueFalse2[j, i] <- 0
}
}
}
}
b <- TrueFalse1[, !is.na(colSums(TrueFalse1))]
CoverageRate <- rowSums(b)/ncol(b)
b <- Mean1[, !is.na(colSums(Mean1))]
View(b)
b <- TrueFalse1[, !is.na(colSums(TrueFalse1))]
CoverageRate <- rowSums(b)/ncol(b)
b <- Mean1[, !is.na(colSums(Mean1))]
View(b)
Mean <- rowMeans(b)
Mean <- rowMeans(b)
Bias <- Mean - P1us[, k+1]
boxplot(Bias)
install.packages("matrixStats")
library(matrixStats)
sd(c(1, 2, 3))
sd(c(1, 2, 3, 4))
SE <- apply(b, 1, sd)
SE
P1us <- a$TrueP1ik
P2us <- a$TrueP2ik
## landmark time: 4.5
## future time for prediction: 5, 5.5, 6
sim = 500
u = seq(4.5, 6, by = 0.5)
HorizonTimePred <- list()
for (k in 1:(length(u)-1)) {
TrueFalse1 <- matrix(0, nrow = nrow(P1us), ncol = sim)
TrueFalse2 <- matrix(0, nrow = nrow(P2us), ncol = sim)
Mean1 <- matrix(0, nrow = nrow(P1us), ncol = sim)
Mean2 <- matrix(0, nrow = nrow(P1us), ncol = sim)
rownames(TrueFalse1) <- P1us$ID
rownames(TrueFalse2) <- P2us$ID
for (i in 1:length(a$ParaMatrixRaw)) {
if(is.null(a$ParaMatrixRaw[[i]]$pred1)) {
TrueFalse1[, i] <- NA
TrueFalse2[, i] <- NA
Mean1[, i] <- NA
Mean2[, i] <- NA
} else {
for (j in 1:nrow(P1us)) {
Mean1[j, i] <- a$ParaMatrixRaw[[i]]$pred1[[j]][k, 1]
LL <- a$ParaMatrixRaw[[i]]$pred1[[j]][k, 2]
UL <- a$ParaMatrixRaw[[i]]$pred1[[j]][k, 3]
if (LL <= P1us[j, k+1] & UL >= P1us[j, k+1]) {
TrueFalse1[j, i] <- 1
} else {
TrueFalse1[j, i] <- 0
}
}
for (j in 1:nrow(P2us)) {
Mean2[j, i] <- a$ParaMatrixRaw[[i]]$pred2[[j]][k, 1]
LL <- a$ParaMatrixRaw[[i]]$pred2[[j]][k, 2]
UL <- a$ParaMatrixRaw[[i]]$pred2[[j]][k, 3]
if (LL <= P2us[j, k+1] & UL >= P2us[j, k+1]) {
TrueFalse2[j, i] <- 1
} else {
TrueFalse2[j, i] <- 0
}
}
}
}
b <- TrueFalse1[, !is.na(colSums(TrueFalse1))]
CoverageRate <- rowSums(b)/ncol(b)
b <- Mean1[, !is.na(colSums(Mean1))]
Mean <- rowMeans(b)
Bias <- Mean - P1us[, k+1]
SE <- apply(b, 1, sd)
MSE <- Bias^2 + apply(b, 1, var)
Risk1 <- list(Bias = Bias, SE = SE, MSE = MSE, CP = CoverageRate)
b <- TrueFalse2[, !is.na(colSums(TrueFalse2))]
CoverageRate <- rowSums(b)/ncol(b)
b <- Mean2[, !is.na(colSums(Mean2))]
Mean <- rowMeans(b)
Bias <- Mean - P2us[, k+1]
SE <- apply(b, 1, sd)
MSE <- Bias^2 + apply(b, 1, var)
Risk2 <- list(Bias = Bias, SE = SE, MSE = MSE, CP = CoverageRate)
HorizonTimePred[[k]] <- list(Risk1 = Risk1, Risk2 = Risk2)
}
names(HorizonTimePred) <- u[-1]
oldpar <- par(mfrow = c(2, 4))
boxplot(HorizonTimePred$`5`$Risk1$Bias)
abline(a = 0, b = 0)
boxplot(HorizonTimePred$`5`$Risk1$SE)
boxplot(HorizonTimePred$`5`$Risk1$MSE)
boxplot(HorizonTimePred$`5`$Risk1$CP)
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred$`5`$Risk2$Bias)
abline(a = 0, b = 0)
boxplot(HorizonTimePred$`5`$Risk2$SE)
boxplot(HorizonTimePred$`5`$Risk2$MSE)
boxplot(HorizonTimePred$`5`$Risk2$CP)
abline(a = 0.95, b = 0)
?boxplot
oldpar <- par(mfrow = c(2, 4))
boxplot(HorizonTimePred$`5`$Risk1$Bias, main = "Bias")
abline(a = 0, b = 0)
boxplot(HorizonTimePred$`5`$Risk1$SE)
boxplot(HorizonTimePred$`5`$Risk1$MSE)
boxplot(HorizonTimePred$`5`$Risk1$CP)
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred$`5`$Risk2$Bias)
abline(a = 0, b = 0)
boxplot(HorizonTimePred$`5`$Risk2$SE)
boxplot(HorizonTimePred$`5`$Risk2$MSE)
boxplot(HorizonTimePred$`5`$Risk2$CP)
abline(a = 0.95, b = 0)
names(HorizonTimePred)
names(HorizonTimePred)[1]
i = 1
oldpar <- par(mfrow = c(2, 4))
boxplot(HorizonTimePred$`5`$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred$`5`$Risk1$SE, main = "SE for risk 1")
boxplot(HorizonTimePred$`5`$Risk1$MSE, main = "MSE for risk 1")
boxplot(HorizonTimePred$`5`$Risk1$CP, main = "CP for risk 1")
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred$`5`$Risk2$Bias, main = "Bias for risk 2")
abline(a = 0, b = 0)
boxplot(HorizonTimePred$`5`$Risk2$SE, main = "SE for risk 2")
boxplot(HorizonTimePred$`5`$Risk2$MSE, main = "MSE for risk 2")
boxplot(HorizonTimePred$`5`$Risk2$CP, main = "CP for risk 2")
abline(a = 0.95, b = 0)
i = 1
oldpar <- par(mfrow = c(2, 4))
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
oldpar <- par(mfrow = c(2, 4))
for (i in 1:length(HorizonTimePred)) {
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
}
View(P1us)
source("~/Desktop/GSR CODES/2022/2022 summer/Accord_DP/GetBiasCP_DP.R")
load("~/Desktop/GSR CODES/2022/2022 summer/Accord_DP/JMH.DP.RData")
## landmark time: 4.5
## future time for prediction: 5, 5.5, 6
HorizonTimePred <- GetBiasCP_DP(sim = 500, u = seq(4.5, 6, by = 0.5),
P1us = P1us, P2us = P2us, ParaMatrixRaw = a$ParaMatrixRaw)
source("~/Desktop/GSR CODES/2022/2022 summer/Accord_DP/GetBiasCP_DP.R")
HorizonTimePred <- GetBiasCP_DP(sim = 500, u = seq(4.5, 6, by = 0.5),
P1us = P1us, P2us = P2us, ParaMatrixRaw = a$ParaMatrixRaw)
oldpar <- par(mfrow = c(2, 4))
for (i in 1:length(HorizonTimePred)) {
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
}
source("~/Desktop/GSR CODES/2022/2022 summer/Accord_DP/GetBiasCP_DP.R")
HorizonTimePred <- GetBiasCP_DP(sim = 500, u = seq(4.5, 6, by = 0.5),
P1us = P1us, P2us = P2us, ParaMatrixRaw = a$ParaMatrixRaw)
oldpar <- par(mfrow = c(2, 5))
for (i in 1:length(HorizonTimePred)) {
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$RBias, main =
paste0("Relative Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
}
oldpar <- par(mfrow = c(2, 5))
for (i in 1:length(HorizonTimePred)) {
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$RBias, main =
paste0("Relative Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
}
HorizonTimePred$`5`$Risk1$Rbias
HorizonTimePred$`5`$Risk2$Rbias
HorizonTimePred$`5.5`$Risk2$Rbias
HorizonTimePred$`5.5`$Risk1$Rbias
HorizonTimePred$`6`$Risk1$Rbias
HorizonTimePred$`6`$Risk2$Rbias
i = 1
oldpar <- par(mfrow = c(2, 5))
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
oldpar <- par(mfrow = c(2, 5))
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias)
boxplot(HorizonTimePred[[i]]$Risk1$Rbias)
boxplot(HorizonTimePred[[i]]$Risk1$Rbias)
boxplot(HorizonTimePred[[i]]$Risk1$Rbias)
oldpar <- par(mfrow = c(2, 5))
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias)
i = 1
boxplot(HorizonTimePred[[i]]$Risk1$RBias)
boxplot(HorizonTimePred[[i]]$Risk1$RBias, x = 0)
boxplot(HorizonTimePred[[i]]$Risk1$RBias)
boxplot(HorizonTimePred[[i]]$Risk1$RBias)
HorizonTimePred[[i]]$Risk1$RBias
HorizonTimePred <- GetBiasCP_DP(sim = 500, u = seq(4.5, 6, by = 0.5),
P1us = P1us, P2us = P2us, ParaMatrixRaw = a$ParaMatrixRaw)
HorizonTimePred[[i]]$Risk1$Rbias
oldpar <- par(mfrow = c(2, 5))
for (i in 1:length(HorizonTimePred)) {
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$Rbias, main =
paste0("Relative Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Rbias, main =
paste0("Relative Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
}
source("~/Desktop/GSR CODES/2022/2022 summer/Accord_DP/GetBiasCP_DP.R")
source("~/Desktop/GSR CODES/2022/2022 summer/Accord_DP/GetBiasCP_DP.R")
HorizonTimePred <- GetBiasCP_DP(sim = 500, u = seq(4.5, 6, by = 0.5),
P1us = P1us, P2us = P2us, ParaMatrixRaw = a$ParaMatrixRaw)
oldpar <- par(mfrow = c(2, 5))
for (i in 1:length(HorizonTimePred)) {
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$Rbias, main =
paste0("Relative Bias (%) for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Rbias, main =
paste0("Relative Bias (%) for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nlandmark time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
}
oldpar <- par(mfrow = c(2, 5))
for (i in 1:length(HorizonTimePred)) {
boxplot(HorizonTimePred[[i]]$Risk1$Bias, main =
paste0("Bias for risk 1\nHorizon time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$Rbias, main =
paste0("Relative Bias (%) for risk 1\nHorizon time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk1$SE, main =
paste0("SE for risk 1\nHorizon time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$MSE, main =
paste0("MSE for risk 1\nHorizon time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk1$CP, main =
paste0("CP for risk 1\nHorizon time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Bias, main =
paste0("Bias for risk 2\nHorizon time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$Rbias, main =
paste0("Relative Bias (%) for risk 2\nHorizon time:", names(HorizonTimePred)[i]))
abline(a = 0, b = 0)
boxplot(HorizonTimePred[[i]]$Risk2$SE, main =
paste0("SE for risk 2\nHorizon time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$MSE, main =
paste0("MSE for risk 2\nHorizon time:", names(HorizonTimePred)[i]))
boxplot(HorizonTimePred[[i]]$Risk2$CP, main =
paste0("CP for risk 2\nHorizon time:", names(HorizonTimePred)[i]))
abline(a = 0.95, b = 0)
}
devtools::load_all()
save.image("~/Desktop/test111.RData")
