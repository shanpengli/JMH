samplesize <- c(100, 500, 1000, 5000, 10000,
50000, 100000, 500000, 1000000)
standard <- c(7.5, 29, 72.8, 623, 1393, 21419, 78979, NA, NA)
EMdata <- data.frame(samplesize, standard, "Method 1")
colnames(EMdata) <- c("SampleSize", "RunTime", "Method")
improved0 <- c(0.846858+0.06, 4.342561+1.55, 11.598946+6.5, 178.679885+190, 655.625285+740, 14376.182072+19000, 68000+61196.340396, NA, NA)
data <- data.frame(samplesize, improved0, "Method 2")
colnames(data) <- c("SampleSize", "RunTime", "Method")
EMdata <- rbind(EMdata, data)
improved1 <- c(0.71, 4, 12.7, 212, 806, 19309, 68400, NA, NA)
data <- data.frame(samplesize, improved1, "Method 3")
colnames(data) <- c("SampleSize", "RunTime", "Method")
EMdata <- rbind(EMdata, data)
improved2 <- c(0.65, 2.55, 6.2, 29, 60, 287, 561, 2914, 5492)
data <- data.frame(samplesize, improved2, "Method 4")
colnames(data) <- c("SampleSize", "RunTime", "Method")
EMdata <- rbind(EMdata, data)
# improved3 <- c(0.48, 2.38, 4.60, 24, 45, 217, 408, 1977, 4342)
# data <- data.frame(samplesize, improved3, "Improved III")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# EMdata <- rbind(EMdata, data)
EMdata$Method <- as.factor(EMdata$Method)
colnames(EMdata)[3] <- "EM steps"
library(ggplot2)
plot1a <- ggplot(data = EMdata, aes(x = SampleSize, y = RunTime, color = `EM steps`, fill = `EM steps`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Run Time (s)")
method1vs2 <- standard/improved0
EMdata1vs2 <- data.frame(samplesize, method1vs2)
colnames(EMdata1vs2) <- c("SampleSize", "Fold change")
plot1b <- ggplot(data = EMdata1vs2, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
method2vs3 <- improved0/improved1
EMdata2vs3 <- data.frame(samplesize, method2vs3)
colnames(EMdata2vs3) <- c("SampleSize", "Fold change")
plot1c <- ggplot(data = EMdata2vs3, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
method3vs4 <- improved1/improved2
EMdata3vs4 <- data.frame(samplesize, method3vs4)
colnames(EMdata3vs4) <- c("SampleSize", "Fold change")
plot1d <- ggplot(data = EMdata3vs4, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
library(ggpubr)
ggarrange(plot1a, plot1b, plot1c, plot1d, ncol = 2, nrow = 2, labels = c('a', 'b', "c", "d"))
standard <- c(0.09, 6.6, 46.6, 6002, 49436, NA, NA, NA, NA)
SEdata <- data.frame(samplesize, standard, "Direct computation")
colnames(SEdata) <- c("SampleSize", "RunTime", "Standard error estimation")
# improved0 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved0, "Improved 0")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
#
# improved1 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved1, "Improved I")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
improved2 <- c(0.01, 0.02, 0.03, 0.16, 0.30, 1.47+0.2, 3.06+0.5, 17, 32)
data <- data.frame(samplesize, improved2, "One-way scan")
colnames(data) <- c("SampleSize", "RunTime", "Standard error estimation")
SEdata <- rbind(SEdata, data)
samplesize <- c(100, 500, 1000, 5000, 10000,
50000, 100000, 500000, 1000000)
standard <- c(0.09, 6.6, 46.6, 6002, 49436, NA, NA, NA, NA)
SEdata <- data.frame(samplesize, standard, "Direct computation")
colnames(SEdata) <- c("SampleSize", "RunTime", "Standard error estimation")
# improved0 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved0, "Improved 0")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
#
# improved1 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved1, "Improved I")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
improved2 <- c(0.01, 0.02, 0.03, 0.16, 0.30, 1.47+0.2, 3.06+0.5, 17, 32)
data <- data.frame(samplesize, improved2, "One-way scan")
colnames(data) <- c("SampleSize", "RunTime", "Standard error estimation")
SEdata <- rbind(SEdata, data)
View(data)
View(SEdata)
standard <- c(0.09, 6.6, 46.6, 6002, 49436, NA, NA, NA, NA)
SEdata <- data.frame(samplesize, standard, "Direct computation")
colnames(SEdata) <- c("SampleSize", "RunTime", "Standard error estimation")
# improved0 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved0, "Improved 0")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
#
# improved1 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved1, "Improved I")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
improved2 <- c(0.01, 0.02, 0.03, 0.16, 0.30, 1.47+0.2, 3.06+0.5, 17, 32)
data <- data.frame(samplesize, improved2, "One-way scan")
colnames(data) <- c("SampleSize", "RunTime", "Standard error estimation")
SEdata <- rbind(SEdata, data)
plot2a <- ggplot(data = SEdata, aes(x = SampleSize, y = RunTime, group = `Standard error estimation`, color = `Standard error estimation`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Run Time (s)")
standardvs2 <- standard/improved2
standardvs2data <- data.frame(samplesize, standardvs2)
colnames(standardvs2data) <- c("SampleSize", "Fold change")
plot2b <- ggplot(data = standardvs2data, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
ggarrange(plot2a, plot2b, ncol = 2, nrow = 1, labels = c('a', 'b'))
standardvs2data <- standardvs2data[complete.cases(standardvs2data), ]
plot2b <- ggplot(data = standardvs2data, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
ggarrange(plot2a, plot2b, ncol = 2, nrow = 1, labels = c('a', 'b'))
ggplot(data = standardvs2data, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10(labels = function(x) format(x, scientific = TRUE)) +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
plot2b <- ggplot(data = standardvs2data, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10(labels = function(x) format(x, scientific = TRUE)) +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
ggarrange(plot2a, plot2b, ncol = 2, nrow = 1, labels = c('a', 'b'))
standard <- c(0.09, 6.6, 46.6, 6002, 49436, NA, NA, NA, NA)
SEdata <- data.frame(samplesize, standard, "Without linearization")
colnames(SEdata) <- c("SampleSize", "RunTime", "Standard error estimation")
# improved0 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved0, "Improved 0")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
#
# improved1 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved1, "Improved I")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
improved2 <- c(0.01, 0.02, 0.03, 0.16, 0.30, 1.47+0.2, 3.06+0.5, 17, 32)
data <- data.frame(samplesize, improved2, "With linearization")
colnames(data) <- c("SampleSize", "RunTime", "Standard error estimation")
SEdata <- rbind(SEdata, data)
plot2a <- ggplot(data = SEdata, aes(x = SampleSize, y = RunTime, group = `Standard error estimation`, color = `Standard error estimation`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Run Time (s)")
standardvs2 <- standard/improved2
standardvs2data <- data.frame(samplesize, standardvs2)
colnames(standardvs2data) <- c("SampleSize", "Fold change")
standardvs2data <- standardvs2data[complete.cases(standardvs2data), ]
plot2b <- ggplot(data = standardvs2data, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10(labels = function(x) format(x, scientific = TRUE)) +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
ggarrange(plot2a, plot2b, ncol = 2, nrow = 1, labels = c('a', 'b'))
standard <- c(7.59, 35.6, 119.4, 6625, 50829, NA, NA, NA, NA)
Totaldata <- data.frame(samplesize, standard, "Standard")
colnames(Totaldata) <- c("SampleSize", "RunTime", "Method")
improved0 <- c(0.956858, 11.192561, 62.098946, 6252.679885, 48581.625285, NA, NA, NA, NA)
data <- data.frame(samplesize, improved0, "Improved 0")
colnames(data) <- c("SampleSize", "RunTime", "Method")
Totaldata <- rbind(Totaldata, data)
improved1 <- c(0.76, 9.3, 56.7, 6096, 47992, NA, NA, NA, NA)
data <- data.frame(samplesize, improved1, "Improved I")
colnames(data) <- c("SampleSize", "RunTime", "Method")
Totaldata <- rbind(Totaldata, data)
improved2 <- c(0.66, 2.57, 6.23, 29.16, 60.3, 288.47, 564, 2930, 5523)
data <- data.frame(samplesize, improved2, "Improved II")
colnames(data) <- c("SampleSize", "RunTime", "Method")
Totaldata <- rbind(Totaldata, data)
improved3 <- c(0.49, 2.40, 4.63, 24.16, 45.3, 218.47, 412, 1993, 4373)
data <- data.frame(samplesize, improved3, "Improved III")
colnames(data) <- c("SampleSize", "RunTime", "Method")
Totaldata <- rbind(Totaldata, data)
Totaldata$Method <- as.factor(Totaldata$Method)
colnames(Totaldata)[3] <- "Total"
ggplot(data = Totaldata, aes(x = SampleSize, y = RunTime, group = Total, color = Total)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Run Time (s)")
library(ggpubr)
standard <- c(0.09, 6.6, 46.6, 6002, 49436, NA, NA, NA, NA)
SEdata <- data.frame(samplesize, standard, "Without linearization")
colnames(SEdata) <- c("SampleSize", "RunTime", "Standard error estimation")
# improved0 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved0, "Improved 0")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
#
# improved1 <- c(0.05, 5.3, 44, 5884, 47186, NA, NA, NA, NA)
# data <- data.frame(samplesize, improved1, "Improved I")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# SEdata <- rbind(SEdata, data)
improved2 <- c(0.01, 0.02, 0.03, 0.16, 0.30, 1.47+0.2, 3.06+0.5, 17, 32)
data <- data.frame(samplesize, improved2, "With linearization")
colnames(data) <- c("SampleSize", "RunTime", "Standard error estimation")
SEdata <- rbind(SEdata, data)
plot2a <- ggplot(data = SEdata, aes(x = SampleSize, y = RunTime, group = `Standard error estimation`, color = `Standard error estimation`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Run Time (s)")
standardvs2 <- standard/improved2
standardvs2data <- data.frame(samplesize, standardvs2)
colnames(standardvs2data) <- c("SampleSize", "Fold change")
standardvs2data <- standardvs2data[complete.cases(standardvs2data), ]
plot2b <- ggplot(data = standardvs2data, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10(labels = function(x) format(x, scientific = TRUE)) +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
ggarrange(plot2a, plot2b, ncol = 2, nrow = 1, labels = c('a', 'b'))
samplesize <- c(100, 500, 1000, 5000, 10000,
50000, 100000, 500000, 1000000)
standard <- c(7.5, 29, 72.8, 623, 1393, 21419, 78979, NA, NA)
EMdata <- data.frame(samplesize, standard, "Method 1")
colnames(EMdata) <- c("SampleSize", "RunTime", "Method")
# improved0 <- c(0.846858+0.06, 4.342561+1.55, 11.598946+6.5, 178.679885+190, 655.625285+740, 14376.182072+19000, 68000+61196.340396, NA, NA)
# data <- data.frame(samplesize, improved0, "Method 2")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# EMdata <- rbind(EMdata, data)
improved1 <- c(0.71, 4, 12.7, 212, 806, 19309, 68400, NA, NA)
data <- data.frame(samplesize, improved1, "Method 3")
colnames(data) <- c("SampleSize", "RunTime", "Method")
EMdata <- rbind(EMdata, data)
improved2 <- c(0.65, 2.55, 6.2, 29, 60, 287, 561, 2914, 5492)
data <- data.frame(samplesize, improved2, "Method 4")
colnames(data) <- c("SampleSize", "RunTime", "Method")
EMdata <- rbind(EMdata, data)
# improved3 <- c(0.48, 2.38, 4.60, 24, 45, 217, 408, 1977, 4342)
# data <- data.frame(samplesize, improved3, "Improved III")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# EMdata <- rbind(EMdata, data)
EMdata$Method <- as.factor(EMdata$Method)
colnames(EMdata)[3] <- "EM steps"
library(ggplot2)
plot1a <- ggplot(data = EMdata, aes(x = SampleSize, y = RunTime, color = `EM steps`, fill = `EM steps`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Run Time (s)")
method1vs2 <- standard/improved1
EMdata1vs2 <- data.frame(samplesize, method1vs2)
colnames(EMdata1vs2) <- c("SampleSize", "Fold change")
plot1b <- ggplot(data = EMdata1vs2, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
method2vs3 <- improved1/improved2
EMdata2vs3 <- data.frame(samplesize, method2vs3)
colnames(EMdata2vs3) <- c("SampleSize", "Fold change")
plot1c <- ggplot(data = EMdata2vs3, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
library(ggpubr)
ggarrange(plot1a, plot1b, plot1c, ncol = 2, nrow = 2, labels = c('a', 'b', "c"))
samplesize <- c(100, 500, 1000, 5000, 10000,
50000, 100000, 500000, 1000000)
standard <- c(7.5, 29, 72.8, 623, 1393, 21419, 78979, NA, NA)
EMdata <- data.frame(samplesize, standard, "Method 1")
colnames(EMdata) <- c("SampleSize", "RunTime", "Method")
# improved0 <- c(0.846858+0.06, 4.342561+1.55, 11.598946+6.5, 178.679885+190, 655.625285+740, 14376.182072+19000, 68000+61196.340396, NA, NA)
# data <- data.frame(samplesize, improved0, "Method 2")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# EMdata <- rbind(EMdata, data)
improved1 <- c(0.71, 4, 12.7, 212, 806, 19309, 68400, NA, NA)
data <- data.frame(samplesize, improved1, "Method 2")
colnames(data) <- c("SampleSize", "RunTime", "Method")
EMdata <- rbind(EMdata, data)
improved2 <- c(0.65, 2.55, 6.2, 29, 60, 287, 561, 2914, 5492)
data <- data.frame(samplesize, improved2, "Method 3")
colnames(data) <- c("SampleSize", "RunTime", "Method")
EMdata <- rbind(EMdata, data)
# improved3 <- c(0.48, 2.38, 4.60, 24, 45, 217, 408, 1977, 4342)
# data <- data.frame(samplesize, improved3, "Improved III")
# colnames(data) <- c("SampleSize", "RunTime", "Method")
# EMdata <- rbind(EMdata, data)
EMdata$Method <- as.factor(EMdata$Method)
colnames(EMdata)[3] <- "EM steps"
library(ggplot2)
plot1a <- ggplot(data = EMdata, aes(x = SampleSize, y = RunTime, color = `EM steps`, fill = `EM steps`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Run Time (s)")
method1vs2 <- standard/improved1
EMdata1vs2 <- data.frame(samplesize, method1vs2)
colnames(EMdata1vs2) <- c("SampleSize", "Fold change")
plot1b <- ggplot(data = EMdata1vs2, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
method2vs3 <- improved1/improved2
EMdata2vs3 <- data.frame(samplesize, method2vs3)
colnames(EMdata2vs3) <- c("SampleSize", "Fold change")
plot1c <- ggplot(data = EMdata2vs3, aes(x = SampleSize, y = `Fold change`)) +
geom_line() +
scale_x_log10() +
scale_y_log10() +
xlab("Sample Size") +
ylab("Fold change")
library(ggpubr)
ggarrange(plot1a, plot1b, plot1c, ncol = 2, nrow = 2, labels = c('a', 'b', "c"))
devtools::load_all()
devtools::load_all()
library(JMH)
N200q10RI <- JMH::simfitRI(sim = 500, N = 200, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 10, ncores = 11)
source('~/Desktop/GSR CODES/2021/2021 summer/JMHSim/GetbiasVarRI.R')
source("~/Desktop/GSR CODES/2021/2021 summer/JMHSim/Getcoverage.R")
a <- GetbiasVarRI(N200q10RI)
mean(N200q10RI$paramatrix$Time, na.rm = TRUE)
mean(N200q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N200q10RI$paramatrix[complete.cases(N200q10RI$paramatrix), ])
Getcoverage(N200q10RI)
write.csv(a, file = "../JMHSim/N200q10RI.csv", quote = FALSE, row.names = FALSE)
N400q10RI <- JMH::simfitRI(sim = 500, N = 400, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 10, ncores = 11)
N600q10RI <- JMH::simfitRI(sim = 500, N = 600, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 10, ncores = 11)
N800q10RI <- JMH::simfitRI(sim = 500, N = 800, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 10, ncores = 11)
a <- GetbiasVarRI(N400q10RI)
mean(N400q10RI$paramatrix$Time, na.rm = TRUE)
mean(N400q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N400q10RI$paramatrix[complete.cases(N400q10RI$paramatrix), ])
Getcoverage(N200q10RI)
write.csv(a, file = "../JMHSim/N400q10RI.csv", quote = FALSE, row.names = FALSE)
a <- GetbiasVarRI(N400q10RI)
mean(N400q10RI$paramatrix$Time, na.rm = TRUE)
mean(N400q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N400q10RI$paramatrix[complete.cases(N400q10RI$paramatrix), ])
Getcoverage(N400q10RI)
write.csv(a, file = "../JMHSim/N400q10RI.csv", quote = FALSE, row.names = FALSE)
a <- GetbiasVarRI(N600q10RI)
mean(N600q10RI$paramatrix$Time, na.rm = TRUE)
mean(N600q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N600q10RI$paramatrix[complete.cases(N600q10RI$paramatrix), ])
Getcoverage(N600q10RI)
write.csv(a, file = "../JMHSim/N600q10RI.csv", quote = FALSE, row.names = FALSE)
a <- GetbiasVarRI(N800q10RI)
mean(N800q10RI$paramatrix$Time, na.rm = TRUE)
mean(N800q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N800q10RI$paramatrix[complete.cases(N800q10RI$paramatrix), ])
Getcoverage(N800q10RI)
write.csv(a, file = "../JMHSim/N800q10RI.csv", quote = FALSE, row.names = FALSE)
devtools::load_all()
load("~/Desktop/GSR CODES/2021/2021 summer/ACCORD/ALLdeath.RData")
knitr::opts_chunk$set(echo = TRUE)
a <- proc.time()
fit30alldeath <- JMMLSM(cdata = cdata, ydata = ydata,
long.formula = fpg ~ years_from_baseline + glycemic_arm + years_glycemic_arm + fpg_baseline +
female + baseline_age + cvd_hx_baseline + yrsdiab + NonWhite + dbp + sbp + hdl + ldl + gfr +
screat + uacr + hba1c + trig,
surv.formula = Surv(survtime, status) ~ fpg_baseline + glycemic_arm +
female + baseline_age + cvd_hx_baseline + yrsdiab + NonWhite + dbp + sbp + hdl + ldl + gfr +
screat + uacr + hba1c + trig,
variance.formula = ~ years_from_baseline + glycemic_arm + years_glycemic_arm + fpg_baseline +
female + baseline_age + cvd_hx_baseline + yrsdiab + NonWhite + dbp + sbp + hdl + ldl + gfr +
screat + uacr + hba1c + trig,
maxiter = 1000, epsilon = 1e-04,
quadpoint = 30, random = ~ years_from_baseline|MaskID, print.para = TRUE)
b <- proc.time()
b - a
89877/3600
fit30alldeath
summary(fit30alldeath, coeff = "longitudinal")
summary(fit30alldeath, coeff = "longitudinal", digits = 5)
summary(fit30alldeath, coeff = "longitudinal", digits = 4)
summary(fit30alldeath, coeff = "longitudinal", digits = 5)
summary(fit30alldeath, coeff = "survival", digits = 4)
fit30alldeath
devtools::load_all()
N2000q10RI <- JMH::simfitRI(sim = 500, N = 2000, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 10, ncores = 11)
a <- GetbiasVarRI(N2000q10RI)
mean(N2000q10RI$paramatrix$Time, na.rm = TRUE)
mean(N2000q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N2000q10RI$paramatrix[complete.cases(N2000q10RI$paramatrix), ])
Getcoverage(N2000q10RI)
source('~/Desktop/GSR CODES/2021/2021 summer/JMHSim/GetbiasVarRI.R')
source("~/Desktop/GSR CODES/2021/2021 summer/JMHSim/Getcoverage.R")
a <- GetbiasVarRI(N2000q10RI)
mean(N2000q10RI$paramatrix$Time, na.rm = TRUE)
mean(N2000q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N2000q10RI$paramatrix[complete.cases(N2000q10RI$paramatrix), ])
Getcoverage(N2000q10RI)
a
N20000q10RI <- JMH::simfitRI(sim = 500, N = 20000, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 10, ncores = 11)
a <- GetbiasVarRI(N20000q10RI)
mean(N20000q10RI$paramatrix$Time, na.rm = TRUE)
mean(N20000q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N20000q10RI$paramatrix[complete.cases(N20000q10RI$paramatrix), ])
Getcoverage(N20000q10RI)
a
GetbiasVarRI(N2000q10RI)
Getcoverage(N2000q10RI)
Getcoverage(N20000q10RI)
Getcoverage(N800q10RI)
View(GetbiasVarRI)
N800q10RI <- JMH::simfitRI(sim = 500, N = 800, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 15, ncores = 10)
a <- GetbiasVarRI(N800q10RI)
mean(N800q10RI$paramatrix$Time, na.rm = TRUE)
mean(N800q10RI$paramatrix$Iter, na.rm = TRUE)
nrow(N800q10RI$paramatrix[complete.cases(N800q10RI$paramatrix), ])
Getcoverage(N800q10RI)
write.csv(a, file = "../JMHSim/N800q15RI.csv", quote = FALSE, row.names = FALSE)
N200q15RI <- JMH::simfitRI(sim = 500, N = 200, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 15, ncores = 10)
N400q15RI <- JMH::simfitRI(sim = 500, N = 400, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 15, ncores = 10)
N600q15RI <- JMH::simfitRI(sim = 500, N = 600, lambda1 = 0.05, lambda2 = 0.1,
tau = c(0.5, 0.5, -0.2, 0.2, 0.05),
CL = 4, CU = 8, seed = 100, maxiter = 1000,
increment = 0.25, quadpoint = 15, ncores = 10)
a <- GetbiasVarRI(N600q15RI)
mean(N600q15RI$paramatrix$Time, na.rm = TRUE)
mean(N600q15RI$paramatrix$Iter, na.rm = TRUE)
nrow(N600q15RI$paramatrix[complete.cases(N600q15RI$paramatrix), ])
Getcoverage(N600q15RI)
write.csv(a, file = "../JMHSim/N600q15RI.csv", quote = FALSE, row.names = FALSE)
a <- GetbiasVarRI(N400q15RI)
Getcoverage(N400q15RI)
write.csv(a, file = "../JMHSim/N400q15RI.csv", quote = FALSE, row.names = FALSE)
a <- GetbiasVarRI(N200q15RI)
Getcoverage(N200q15RI)
write.csv(a, file = "../JMHSim/N200q15RI.csv", quote = FALSE, row.names = FALSE)
Getcoverage(N200q15RI)
Getcoverage(N400q15RI)
Getcoverage(N600q15RI)
Getcoverage(N800q10RI)
load("~/Desktop/GSR CODES/2021/2021 summer/JMHSim/FastJM.RData")
GetbiasVarRI(FASTJMN200)
View(GetbiasVarRI)
GetbiasVarRI(FASTJMN200)
source('~/Desktop/GSR CODES/2021/2021 summer/JMHSim/GetbiasVarRI_FASTJM.R')
GetbiasVarRI(FASTJMN200)
View(GetbiasVarRI)
View(SimfitFastJMRI)
?simJMdataRI
source('~/Desktop/GSR CODES/2021/2021 summer/JMHSim/GetcoverageFastJM.R')
source('~/Desktop/GSR CODES/2021/2021 summer/JMHSim/GetcoverageFastJM.R')
Getcoverage(FASTJMN200)
source('~/Desktop/GSR CODES/2021/2021 summer/JMHSim/GetcoverageFastJM.R')
Getcoverage(FASTJMN200)
source('~/Desktop/GSR CODES/2021/2021 summer/JMHSim/GetcoverageFastJM.R')
Getcoverage(FASTJMN200)
coef <- FASTJMN200$coef
View(coef)
coefSE <- FASTJMN200$coefSE
View(coefSE)
GetbiasVarRI(FASTJMN400)
Getcoverage(FASTJMN400)
