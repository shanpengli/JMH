a$AllCIF1$`8`
a$AllCIF2$`8`
devtools::load_all()
devtools::document()
knitr::opts_chunk$set(echo = TRUE)
load("~/Desktop/GSR CODES/2021/2021 summer/ACCORD/ALLdeath.RData")
rm(list= ls()[!(ls() %in% c('otherlabsfpg','keyvariable',
'hba1cBaseline', 'cdataoutcome', 'hba1c', "ydata", "cdata"))])
load("~/Desktop/GSR CODES/2021/2021 summer/ACCORD/ALLdeath.RData")
rm(list= ls()[!(ls() %in% c("ydata", "cdata"))])
## split the dataset
set.seed(100)
split <- sample(c(rep(0, 0.8 * nrow(cdata)), rep(1, 0.2 * nrow(cdata))))
round(0.8*nrow(cdata))
?sample
## split the dataset
set.seed(100)
split <- sample(c(rep(0, round(0.8*nrow(cdata))), rep(1, round(0.2*nrow(cdata)))))
head(split)
## split the dataset
set.seed(100)
split <- sample(c(rep(0, round(0.8*nrow(cdata))), rep(1, round(0.2*nrow(cdata)))))
cdata.train <- cdata[split == 0, ]
## split the dataset
set.seed(100)
split <- sample(c(rep(0, round(0.8*nrow(cdata))), rep(1, round(0.2*nrow(cdata)))))
cdata.train <- cdata[split == 0, ]
ydata.train <- ydata[ydata$MaskID %in% cdata.train$MaskID, ]
View(ydata.train)
## split the dataset
set.seed(100)
split <- sample(c(rep(0, round(0.8*nrow(cdata))), rep(1, round(0.2*nrow(cdata)))))
cdata.train <- cdata[split == 0, ]
ydata.train <- ydata[ydata$MaskID %in% cdata.train$MaskID, ]
cdata.test <- cdata[split == 1, ]
ydata.test <- ydata[ydata$MaskID %in% cdata.test$MaskID, ]
View(ydata.test)
devtools::load_all()
data <- simJMdataRI(seed = 1034, N = 500, lambda1 = 0.05,
lambda2 = 0.1,
CL = 2,
CU = 10,
increment = 0.25)
cdata <- data$cdata
ydata <- data$ydata
fit <- JMMLSM(cdata = cdata, ydata = ydata,
long.formula = Y ~ Z1 + Z2 + Z3 + time,
surv.formula = Surv(survtime, cmprsk) ~ var1 + var2 + var3,
variance.formula = ~ Z1 + Z2 + Z3 + time, maxiter = 1000, epsilon = 1e-04,
quadpoint = 10, random = ~ 1|ID, print.para = TRUE)
a <- GetFraminghamScore(object = fit, cdata = cdata, ydata = ydata, survtime = "survtime",
increment = 0.25, status = "cmprsk", ID = "ID",
LandmarkTime = 3, u = NULL, M = 50,
ytime = "time",
quadpoint = 15, quant.width = 0.2)
devtools::load_all()
devtools::load_all()
devtools::load_all()
devtools::load_all()
load("~/Desktop/testDP.RData")
a <- proc.time()
survfit.new <- survfit4JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
devtools::load_all()
a <- proc.time()
survfit.new <- survfit4JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
devtools::load_all()
a <- proc.time()
survfit.new <- survfit4JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
devtools::load_all()
a <- proc.time()
survfit.new <- survfit4JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
devtools::load_all()
a <- proc.time()
survfit.new <- survfit4JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
survfit.new
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
a <- proc.time()
survfit.new3 <- survfit3JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
survfit.new
survfit.new3
survfit
devtools::load_all()
devtools::load_all()
devtools::document()
devtools::load_all()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
a <- proc.time()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 100, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
a <- proc.time()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 500, simulate = TRUE, quadpoint = 15)
b <- proc.time()
b - a
a <- proc.time()
survfit.new3 <- survfit3JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 500, simulate = TRUE, quadpoint = 15)
b <- proc.time()
b - a
a <- proc.time()
survfit.new <- survfit4JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 0.5), M = 500, simulate = TRUE, quadpoint = 15)
b <- proc.time()
b - a
survfit
survfit.new3
survfit.new
devtools::load_all()
devtools::document()
devtools::load_all()
devtools::load_all()
devtools::load_all()
devtools::load_all()
library(JMH)
data(cdata)
data(ydata)
fit <- JMMLSM(cdata = cdata, ydata = ydata,
long.formula = Y ~ Z1 + Z2 + Z3 + time,
surv.formula = Surv(survtime, cmprsk) ~ var1 + var2 + var3,
variance.formula = ~ Z1 + Z2 + Z3 + time,
quadpoint = 10, random = ~ 1|ID, print.para = TRUE)
load("~/Desktop/testDP.RData")
View(ynewdata)
B <- 100
set.seed(100)
random <- all.vars(fit$random)
ID <- random[length(random)]
variance.formula <- as.formula(paste("", fit$LongitudinalSubmodelvariance[3], sep = "~"))
i = 1
btsp <- sample(c(1:nrow(fit$cdata)), replace = TRUE)
cdata.btsp <- fit$cdata[btsp, ]
ydata <- fit$ydata
colnames(cdata.btsp)[-which(colnames(cdata.btsp) == ID)] <-
paste0(colnames(cdata.btsp)[-which(colnames(cdata.btsp) == ID)], ".survival")
colnames(ydata)[-which(colnames(ydata) == ID)] <-
paste0(colnames(ydata)[-which(colnames(ydata) == ID)], ".longitudinal")
ydata.btsp <- dplyr::left_join(cdata.btsp, ydata, by = ID)
Nonyname <- colnames(cdata.btsp)[-which(colnames(cdata.btsp) == ID)]
ydata.btsp <- ydata.btsp[, !colnames(ydata.btsp) %in% Nonyname]
colnames(cdata.btsp) <- gsub(pattern = ".survival", replacement = "",
x = colnames(cdata.btsp))
colnames(ydata.btsp) <- gsub(pattern = ".longitudinal", replacement = "",
x = colnames(ydata.btsp))
mdata <- as.data.frame(table(fit$ydata[, ID]))
colnames(mdata) <- c(ID, "Freq00")
mdataboots <- dplyr::left_join(cdata.btsp, mdata, by = ID)
mdataboots <- mdataboots[, c(ID, "Freq00")]
IID <- vector()
for (i in 1:nrow(mdataboots)) {
num <- rep(i, mdataboots[i, 2])
IID <- c(IID, num)
}
ydata.btsp[, ID] <- IID
cdata.btsp[, ID] <- c(1:nrow(mdataboots))
View(ydata.btsp)
fitboot <- JMMLSM(cdata = cdata.btsp, ydata = ydata.btsp,
long.formula = fit$LongitudinalSubmodelmean,
surv.formula = fit$SurvivalSubmodel,
variance.formula = variance.formula,
quadpoint = fit$quadpoint, random = fit$random, print.para = TRUE)
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = fit$quadpoint,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
survfit
devtools::load_all()
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = fit$quadpoint,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
devtools::load_all()
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = fit$quadpoint,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
devtools::load_all()
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = fit$quadpoint,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
survfit$Pred
fit$quadpoint
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = 20,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
survfit
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = 10,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
survfit
devtools::load_all()
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = 10,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
survfit
survfit <- survfit3JMMLSM(fitboot, ynewdata = ynewdata,
cnewdata = cnewdata,
quadpoint = 15,
simulate = FALSE,
u = seq(5.2, 7.2, by = 0.5))
survfit
?JM::jointModel
?JM::survfitJM
devtools::load_all()
devtools::document()
survfit <- survfit3JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5))
devtools::load_all()
survfit <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5))
devtools::load_all()
survfit <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5))
devtools::load_all()
survfit <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5))
?survfit5JMMLSM
survfit2 <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5),
B = 1)
devtools::load_all()
survfit2 <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5),
B = 1)
devtools::load_all()
survfit2 <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5),
B = 1)
survfit2$Predraw1
survfit2$Predraw1[1, , ]
survfit
Predraw1[, 1, ]
survfit2$Predraw1[, 1, ]
aa <- array(1:12, dim = c(2, 2, 3))
aa[, 2, ]
aa[1, , ]
aa[2, , ]
Hmisc::hdquantile(4, probs = 0.025)
Hmisc::hdquantile(c(1:2), probs = 0.025)
devtools::load_all()
survfit2 <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5),
B = 1)
devtools::load_all()
survfit2 <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5),
B = 1)
survfit2 <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5),
B = 2)
survfit2
survfit2$Pred
devtools::load_all()
survfit2$Last.time
survfit2$y.obs
survfit$y.obs
devtools::load_all()
survfit2 <- survfit5JMMLSM(fit, ynewdata = ynewdata,
cnewdata = cnewdata,
method = "GH",
u = seq(5.2, 7.2, by = 0.5),
B = 2)
survfit2
survfit2$Pred
devtools::document()
survfit2
devtools::load_all()
devtools::load_all()
devtools::document()
??JMBayes::jointModelBayes
devtools::document()
devtools::load_all()
?survfitJMMLSM2
??survfit2JMMLSM
?survfit2JMMLSM
a <- proc.time()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 100, burn.in = 0, simulate = TRUE, quadpoint = 15)
a <- proc.time()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 100, burn.in = 0, simulate = TRUE, quadpoint = 10)
devtools::load_all()
a <- proc.time()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 200, burn.in = 0, simulate = TRUE, quadpoint = 10)
survfit
devtools::load_all()
devtools::load_all()
a <- proc.time()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 200, burn.in = 0, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
survfit$posterior$`42`
survfit$posterior$`3`
length(survfit$posterior)
Sub1 <- matrix(NA, nrow = 200, ncol = 2)
for (i in 1:200) {
Sub1[i, ] <- survfit$posterior[[i]][1, ]
}
View(Sub1)
plot(c(1:200), Sub1[, 1])
plot(c(1:200), Sub1[, 1], type = "l")
plot(c(1:200), Sub1[, 2], type = "l")
devtools::load_all()
??JMMLSM
JMH::JMMLSM()
devtools::load_all()
devtools::load_all()
devtools::load_all()
load("~/Desktop/testDP2.RData")
survfit
survfitboot
devtools::load_all()
devtools::document()
a <- matrix(0, ncol = 2, nrow = 2)
a[1, ]
is.vector(a[1, ])
devtools::load_all()
data <- simJMdataRI(seed = 100, N = 200, increment = 0.5, lambda2 = 0.1)
ydata <- data$ydata
cdata <- data$cdata
fit <- JMMLSM(cdata = cdata, ydata = ydata,
long.formula = Y ~ Z1 + Z2 + Z3 + time,
surv.formula = Surv(survtime, cmprsk) ~ var1 + var2 + var3,
variance.formula = ~ Z1 + Z2 + Z3 + time, maxiter = 1000, epsilon = 1e-04,
quadpoint = 10, random = ~ 1|ID, print.para = TRUE)
cdata2 <- cdata[cdata$ID %in% c(42, 48), ]
ydata2 <- ydata[ydata$ID %in% c(42, 48), ]
survfit2 <- survfit2JMMLSM(fit, seed = 100, ynewdata = ydata2, cnewdata = cdata2,
u = seq(4, 10, by = 2), M = 100, simulate = TRUE,
quadpoint = 10)
survfit2
View(cdata2)
devtools::load_all()
survfit2 <- survfit2JMMLSM(fit, seed = 100, ynewdata = ydata2, cnewdata = cdata2,
u = seq(4, 10, by = 2), M = 100, simulate = TRUE,
quadpoint = 10)
devtools::load_all()
survfit2 <- survfit2JMMLSM(fit, seed = 100, ynewdata = ydata2, cnewdata = cdata2,
u = seq(4, 10, by = 2), M = 100, simulate = TRUE,
quadpoint = 10)
survfit2
devtools::load_all()
survfit2 <- survfit2JMMLSM(fit, seed = 100, ynewdata = ydata2, cnewdata = cdata2,
u = seq(4, 10, by = 2), M = 100, simulate = TRUE,
quadpoint = 10)
devtools::load_all()
survfit2 <- survfit2JMMLSM(fit, seed = 100, ynewdata = ydata2, cnewdata = cdata2,
u = seq(4, 10, by = 2), M = 100, simulate = TRUE,
quadpoint = 10)
devtools::load_all()
survfit2 <- survfit2JMMLSM(fit, seed = 100, ynewdata = ydata2, cnewdata = cdata2,
u = seq(4, 10, by = 2), M = 100, simulate = TRUE,
quadpoint = 10)
survfit2
devtools::load_all()
devtools::load_all()
devtools::load_all()
a <- simfitRI_DP(sim = 500, Nv = 200, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 7, M = 500, method = "boots")
devtools::load_all()
a <- simfitRI_DP(sim = 500, Nv = 200, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 7, M = 500, method = "boots")
a <- simfitRI_DP(sim = 2, Nv = 200, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 7, M = 10, method = "boots")
a <- simfitRI_DP(sim = 11, Nv = 200, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boots")
devtools::document()
a <- simfitRI_DP(sim = 11, Nv = 20, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boo")
a <- simfitRI_DP(sim = 11, Nv = 10, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boo")
a <- simfitRI_DP(sim = 11, Nv = 5, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boo")
a <- simfitRI_DP(sim = 11, Nv = 2, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boo")
a <- simfitRI_DP(sim = 11, Nv = 3, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boo")
a <- simfitRI_DP(sim = 11, Nv = 4, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boo")
a <- simfitRI_DP(sim = 11, Nv = 5, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boo")
a <- simfitRI_DP(sim = 11, Nv = 5, Nt = 200, seed = 100, increment = 0.25, CL = 2, CU = 10,
u = seq(3, 7, by = 2), quadpoint = 15, ncores = 11, M = 10, method = "boots")
devtools::load_all()
data <- simJMdataRI(seed = 100, N = 200, increment = 0.5, lambda2 = 0.1)
ydata <- data$ydata
cdata <- data$cdata
fit <- JMMLSM(cdata = cdata, ydata = ydata,
long.formula = Y ~ Z1 + Z2 + Z3 + time,
surv.formula = Surv(survtime, cmprsk) ~ var1 + var2 + var3,
variance.formula = ~ Z1 + Z2 + Z3 + time, maxiter = 1000, epsilon = 1e-04,
quadpoint = 10, random = ~ 1|ID, print.para = TRUE)
cdata2 <- cdata[cdata$ID %in% c(42, 48), ]
ydata2 <- ydata[ydata$ID %in% c(42, 48), ]
survfit2 <- survfit2JMMLSM(fit, seed = 100, ynewdata = ydata2, cnewdata = cdata2,
u = seq(4, 10, by = 2), M = 100, simulate = TRUE,
quadpoint = 10)
survfit2
library(JMH)
data(ydata)
data(cdata)
fit <- JMMLSM(cdata = cdata, ydata = ydata,
long.formula = Y ~ Z1 + Z2 + Z3 + time,
surv.formula = Surv(survtime, cmprsk) ~ var1 + var2 + var3,
variance.formula = ~ Z1 + Z2 + Z3 + time,
quadpoint = 15, random = ~ 1|ID, print.para = TRUE)
load("~/Desktop/testDP.RData")
View(cnewdata)
a <- proc.time()
survfit <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 400, simulate = TRUE,
quadpoint = 10)
b <- proc.time()
b - a
View(survfit)
survfit
devtools::load_all()
devtools::load_all()
survfit
a <- proc.time()
survfit.turn <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 200, burn.in = 0, simulate = TRUE, quadpoint = 10)
devtools::load_all()
a <- proc.time()
survfit.turn <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 200, burn.in = 0, simulate = TRUE, quadpoint = 10)
devtools::load_all()
a <- proc.time()
survfit.turn <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 200, burn.in = 0, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
survfit
survfit.turn
devtools::load_all()
a <- proc.time()
survfit.turn <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 200, burn.in = 0, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
survfit.turn
a <- proc.time()
survfit.turn <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 400, burn.in = 0.2, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
survfit.turn
a <- proc.time()
survfit.turn <- survfit2JMMLSM(fit, seed = 100, ynewdata = ynewdata, cnewdata = cnewdata,
u = seq(5.2, 7.2, by = 1), M = 2000, burn.in = 0.2, simulate = TRUE, quadpoint = 10)
b <- proc.time()
b - a
survfit.turn
survfit
B = 2000
Sub1 <- matrix(NA, nrow = B, ncol = 2)
for (i in 1:B) {
Sub1[i, ] <- survfit.turn$posterior[[i]][1, ]
}
plot(c(1:B), Sub1[, 1], type = "l")
B = 2000
Sub1 <- matrix(NA, nrow = B, ncol = 2)
for (i in 1:B) {
Sub1[i, ] <- survfit.turn$posterior[[i]][2, ]
}
plot(c(1:B), Sub1[, 1], type = "l")
